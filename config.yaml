# Basic mediawiki-node-services config, running the following services in a
# single process:
#
# - RESTBase
# - Parsoid

services:
  - name: restbase
    conf: 
      port: 7231
      salt: secret
      default_page_size: 125
      user_agent: RESTBase
      spec: 
        x-sub-request-filters:
          - type: default
            name: http
            options:
            allow:
              - pattern: http://de.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://pt.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://sv.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://meta.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://fr.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://pool.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://it.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://es.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://en.wikitolearn.org/api.php
                forward_headers: true
              - pattern: http://de.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://pt.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://sv.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://meta.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://fr.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://pool.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://it.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://es.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://en.wikitolearn.vodka/api.php
                forward_headers: true
              - pattern: http://de.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://pt.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://sv.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://meta.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://fr.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://pool.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://it.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://es.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://en.tuttorotto.biz/api.php
                forward_headers: true
              - pattern: http://de.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://pt.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://sv.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://meta.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://fr.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://pool.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://it.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://es.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://en.tuttorotto.eu/api.php
                forward_headers: true
              - pattern: http://de.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://pt.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://sv.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://meta.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://fr.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://pool.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://it.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://es.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://en.tuttorotto.org/api.php
                forward_headers: true
              - pattern: http://de.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://pt.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://sv.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://meta.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://fr.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://pool.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://it.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://es.tuttorotto.it/api.php
                forward_headers: true
              - pattern: http://en.tuttorotto.it/api.php
                forward_headers: true

              - pattern: http://mathoid:10044
                forward_headers: true
              - pattern: http://parsoid:8000
                forward_headers: true
              - pattern: /^https?:\/\//

        paths:

          /{domain:de.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://de.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/de.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pt.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pt.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pt.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:sv.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://sv.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/sv.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:meta.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://meta.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/meta.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:fr.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://fr.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/fr.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pool.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pool.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pool.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:it.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://it.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/it.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:es.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://es.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/es.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:en.wikitolearn.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://en.wikitolearn.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/en.wikitolearn.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:de.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://de.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/de.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pt.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pt.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pt.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:sv.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://sv.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/sv.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:meta.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://meta.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/meta.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:fr.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://fr.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/fr.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pool.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pool.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pool.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:it.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://it.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/it.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:es.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://es.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/es.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:en.wikitolearn.vodka}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://en.wikitolearn.vodka/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/en.wikitolearn.vodka.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:de.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://de.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/de.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pt.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pt.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pt.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:sv.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://sv.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/sv.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:meta.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://meta.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/meta.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:fr.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://fr.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/fr.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pool.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pool.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pool.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:it.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://it.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/it.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:es.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://es.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/es.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:en.tuttorotto.biz}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://en.tuttorotto.biz/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/en.tuttorotto.biz.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:de.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://de.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/de.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pt.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pt.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pt.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:sv.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://sv.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/sv.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:meta.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://meta.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/meta.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:fr.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://fr.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/fr.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pool.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pool.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pool.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:it.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://it.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/it.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:es.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://es.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/es.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:en.tuttorotto.eu}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://en.tuttorotto.eu/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/en.tuttorotto.eu.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:de.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://de.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/de.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pt.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pt.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pt.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:sv.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://sv.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/sv.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:meta.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://meta.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/meta.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:fr.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://fr.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/fr.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pool.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pool.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pool.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:it.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://it.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/it.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:es.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://es.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/es.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:en.tuttorotto.org}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://en.tuttorotto.org/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/en.tuttorotto.org.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:de.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://de.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/de.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pt.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pt.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pt.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:sv.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://sv.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/sv.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:meta.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://meta.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/meta.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:fr.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://fr.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/fr.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:pool.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://pool.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/pool.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:it.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://it.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/it.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:es.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://es.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/es.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false

          /{domain:en.tuttorotto.it}:
            x-modules:
              /:
                - path: projects/example.yaml
                  options:
                    action:
                      apiUriTemplate: http://en.tuttorotto.it/api.php
                    parsoid:
                      host: http://parsoid:8000
                    mathoid:
                      host: http://mathoid:10044
                    table:
                      dbname: /db/en.tuttorotto.it.sqlite3
                      pool_idle_timeout: 20000
                      retry_delay: 250
                      retry_limit: 10
                      show_sql: false


info:
  name: WikiToLearn Node

logging:
  level: info

